<!DOCTYPE HTML>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<title>小游戏--通过arp欺骗嗅探图片</title>
<meta name="author" content="John Doe">
<!--[if IE]>
  <meta http-equiv=refresh content='0, http://browsehappy.com'>
<![endif]-->
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css">
<link rel="stylesheet" href="/css/style.css">


<body oncontextmenu="return false">
  <div class="aios_content">
    <div class="bg-gradient"></div>
    <div class="bg-pattern"></div>
    <div class="menu-bg">
  <div class="menu-container">
    <ul>
      
        <li class="menu-item">
          <a href="/">Home</a>
        </li>
      
        <li class="menu-item">
          <a href="/archives">Docs</a>
        </li>
      
    </ul>
  </div>
</div>

<nav>
  <a></a>
</nav>

    <div class="container" style="padding-bottom:40px">
      <div class="row">
  <div class="col-sm-12">
    <header>
  <div class="logo">
    <h1 id="main-title" class="title"><a href="/">Hexo</a></h1>
  </div>
</header>


    <section class="main">
      <div class="post">
  <div class="post-header">
    <h1 class="title">小游戏--通过arp欺骗嗅探图片</h1>
    <div class="post-info">
      <span class="date">2019-01-23</span>

      
    </div>
  </div>

  <div class="content">
    <!-- Gallery -->
    

    <p>参考：<a href="https://www.freebuf.com/articles/web/160511.html" target="_blank" rel="noopener">https://www.freebuf.com/articles/web/160511.html</a><br>一个简单的小游戏，恶作剧一下。<br>通过arp欺骗嗅探的内网其他用户的图片浏览情况，大致的过程：<br>（1）开启Linux的root权限，不开启的话，被攻击的对象会断网<br>（2）开启路由转发功能<br>（3）扫描内网中机器<br>（4）通过arp欺骗，截取攻击目标的信息<br>（5）通过driftnet来嗅探</p>
<p>接下来将会一步一步地进行演示：<br><strong>0x01</strong><br>开启root权限大家都会吧<br>开启路由转发功能，linux开启路由转发功能有两种，一种是临时开启，一种是永久开启。<br>临时开启：（一次性的，重启时，需要重新设置）<br>    <code>echo &quot;1&quot;&gt;/proc/sys/net/ipv4/ip_forward</code>（将文件/proc/sys/net/ipv4/ip_forward值改为1）<br>永久开启：<br>    <code>sysctl -p</code>（将文件/etc/sysctl.conf里面的net.ipv4.ip_forward=1的注释去除）</p>
<p><strong>0x02</strong><br>扫描内网中存在的主机，扫描工具这里，我们用的是nmap<br>下载nmap:<br>     <code>apt-get install nmap</code><br>运行nmap:<br>     <code>nmap -sP 192.168.1.0/24</code>(扫描192.168.1/24网段下的所有主机的IP)<br>     <code>cat /proc/net/arp</code>（查看arp缓存，选择一个主机，进行arp欺骗）<br><strong>注意：这里有个小问题就是，手机的IP地址不知道为什么没有出现在arp缓存表中，我们多扫几遍，在终端中查看</strong><br><img src="/2019/01/23/小游戏-通过arp欺骗嗅探图片/1.png" alt="arp"></p>
<p><strong>0x03</strong><br>进行arp欺骗，这里我们需要打开两个终端，使用到的工具是arpspoof，然而这个是kali才自带的，像ubuntu或者debian得安装dsniff才行<br>    <code>apt-get install dsniff</code></p>
<p>（192.168.1.11是我的手机的IP地址）<br>进行arp欺骗，首先打开第一个终端，我们敲这样的命令：<br>    <code>arpspoof -i wlp2s0 -t 192.168.1.11 192.168.1.1</code><br>这段命令的意思是让192.168.1.11的数据由经我们的主机再发送的路由器</p>
<p>再开一个终端，我们敲这样的命令：<br>    <code>arpspoof -i wlp2s0 -t 192.168.1.1 192.168.1.11</code><br>道理是一样的。这样我们的主机了欺骗的作用<br><strong>注意，这里“-i”这个参数应该后面接的是本机的网卡名，使用ifconfig查询自己电脑的网卡名，我的网卡名是wlp2s0</strong><br><img src="/2019/01/23/小游戏-通过arp欺骗嗅探图片/2.png" alt="网卡问题"></p>
<p><strong>0x04</strong><br>开启第三个终端，运行driftnet<br>这时你会发现不可以，因为我们没有指定参数，正确的命令是：<br>    ‘driftnet -i wlp2s0’<br>然后打开手机，随便浏览网页时，就会有这样的情况，(浏览微博的时候，微信发图片什么的都能嗅探到)<br><img src="/2019/01/23/小游戏-通过arp欺骗嗅探图片/3.png" alt="嗅探图片"></p>
<p>这里我就放这么一个小例子，通过arp欺骗，可以完成很多东西，俗称内网无敌，哈哈哈哈</p>

    <span class="date end-date">2019-01-23</span>
  </div>

  

  
</div>

    </section>
  </div>
</div>

    </div>
  </div>
  <footer class="footer-content">
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
        <h2>About</h2>
        <section>
          Theme developed by <a href="//github.com/klugjo" target="_blank">Jonathan Klughertz</a><br>Contents created by <a href="//github.com/xaios" target="_blank">AIOS</a>
        </section>
      </div>
      
  <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
    <h2>New Contents</h2>
    <ul>
      
        <li>
          <a class="footer-post" href="/2019/02/12/PHPMywind储存XSS漏洞/">PHPMywind储存XSS漏洞</a>
        </li>
      
        <li>
          <a class="footer-post" href="/2019/02/12/文件判断函数的安全隐患/">文件判断函数的安全隐患</a>
        </li>
      
        <li>
          <a class="footer-post" href="/2019/02/08/BUGKU-WEB/">BUGKU-WEB</a>
        </li>
      
        <li>
          <a class="footer-post" href="/2019/01/31/mysql注入常见load-file路径/">mysql注入常见load_file路径</a>
        </li>
      
    </ul>
  </div>


      

    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <ul class="list-inline footer-social-icons"></ul>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <div class="footer-copyright">@Untitled. All right reserved | Design & Hexo <a href="//www.codeblocq.com" target="_blank">Jonathan Klughertz</a></div>
      </div>
    </div>
  </div>
</footer>

</body>
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js"></script>
<script src="/js/main.js"></script>

